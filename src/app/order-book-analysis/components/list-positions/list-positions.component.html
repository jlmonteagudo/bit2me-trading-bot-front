<div class="box">
  <div class="box-header md:justify-between flex-wrap">
    <div class="box-title">Last positions</div>
  </div>
  <div class="box-body !p-0">

    <div class="input-group p-4">
      <input
        type="text"
        class="form-control"
        placeholder="Quote Amount"
        [(ngModel)]="quoteAmount"
      />
      <button
        class="ti-btn ti-btn-primary-full !mb-0"
        type="button"
        (click)="normalizeQuote()"
      >
        Normalize Quote
      </button>
    </div>

    <ul class="border-0">

      @for (position of postionsWithNormalizedAmount(); track $index) {
      <li
        *ngIf="position.status !== 'open'"
        class="py-[0.8rem] px-[1.25rem] border-b dark:border-defaultborder/10"
      >

        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Symbol : </span>{{ position.symbol }}</p>
        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Entry At : </span>{{ position.entryAt | date : "medium" }}</p>
        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Exit At : </span>{{ position.exitAt | date : "medium" }}</p>
        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Base Amount : </span>{{ position.baseAmount | number : '1.0-8' }}</p>
        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Entry Average Price : </span>{{ position.entryAveragePrice | number }}</p>
        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Exit Average Price : </span>{{ position.exitAveragePrice | number }}</p>
        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Entry Quote Amount : </span>{{ position.entryQuoteAmount | number }}</p>
        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Exit Quote Amount : </span>{{ position.exitQuoteAmount | number }}</p>

        <p class="mb-2 text-[#8c9097] dark:text-white/50"><span class="font-semibold text-defaulttextcolor dark:text-defaulttextcolor/70">Profit : </span>
          <span class="mb-0 font-semibold" [ngClass]="{ 'text-success': position.profit > 0, 'text-danger': position.profit < 0 }">
            {{ position.profit | number }}
          </span>
        </p>

      </li>
      }

    </ul>
  </div>
</div>
